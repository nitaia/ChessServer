{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/board/board.component.ts","webpack:///src/app/board/board.component.html","webpack:///src/app/piece/piece.component.ts","webpack:///src/app/piece/piece.component.html","webpack:///src/app/piece/piece.ts","webpack:///src/app/selection.service.ts","webpack:///src/app/square/square.component.ts","webpack:///src/app/square/square.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AppComponent","title","selector","templateUrl","styleUrls","AppModule","declarations","imports","providers","bootstrap","entryComponents","BoardComponent","http","selection","board","squares","subject","subscribe","selectionChanged","x","Array","y","p","type","readBoard","get","pieces","pieceDTO","piece","name","color","toLowerCase","square","current","previous","select","newGame","PieceComponent","hover","selected","mouseEnter","mouseLeave","Piece","SelectionService","next","providedIn","SquareComponent","resolver","selectedPieceChange","changes","setTimeout","createComponent","entry","clear","factory","resolveComponentFactory","componentRef","instance","destroy","read","environment","production","bootstrapModule","err","console","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'chess';\n}\n","<div class=\"container\">\n  <h1 class=\"\">Chess game</h1>\n  <app-board></app-board>\n</div>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { BoardComponent } from './board/board.component';\nimport { SquareComponent } from './square/square.component';\nimport { PieceComponent } from './piece/piece.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport {DragDropModule} from '@angular/cdk/drag-drop';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    BoardComponent,\n    SquareComponent,\n    PieceComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    DragDropModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent],\n  entryComponents: [PieceComponent]\n})\nexport class AppModule { }\n","import {AfterViewInit, Component, OnInit, QueryList, ViewChildren} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Piece} from '../piece/piece';\r\nimport {PieceDTO} from '../DTO/pieceDTO';\r\nimport {SelectionService} from '../selection.service';\r\nimport {SquareComponent} from '../square/square.component';\r\n\r\n@Component({\r\n  selector: 'app-board',\r\n  templateUrl: './board.component.html',\r\n  styleUrls: ['./board.component.css']\r\n})\r\nexport class BoardComponent implements OnInit {\r\n\r\n  board: object[][] = [[]];\r\n  squares: SquareComponent[][] = [[]];\r\n\r\n  constructor(private http: HttpClient,\r\n              private selection: SelectionService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.selection.subject.subscribe(() => this.selectionChanged());\r\n    for (let x = 0; x < 8; x++) {\r\n      this.board[x] = [];\r\n      this.squares[x] = new Array(8);\r\n      for (let y = 0; y < 8; y++) {\r\n        const p: Piece = new Piece();\r\n        p.type = 'empty';\r\n        this.board[x][y] = p;\r\n      }\r\n    }\r\n  }\r\n\r\n  newGame() {\r\n    this.readBoard();\r\n  }\r\n\r\n  readBoard() {\r\n    this.http.get('http://localhost:8080/board').subscribe(pieces => {\r\n      for (const pieceDTO of pieces as Array<PieceDTO>) {\r\n        const piece: Piece = new Piece();\r\n        piece.type = pieceDTO.name;\r\n        piece.color = pieceDTO.color.toLowerCase();\r\n        this.board[pieceDTO.square.y][pieceDTO.square.x] = piece;\r\n      }\r\n    });\r\n  }\r\n\r\n  selectionChanged() {\r\n    if (this.selection.current && this.selection.previous) {\r\n      this.selection.current.type = this.selection.previous.type;\r\n      this.selection.current.color = this.selection.previous.color;\r\n      this.selection.previous.type = 'empty';\r\n      this.selection.select(null);\r\n    }\r\n  }\r\n}\r\n","<button (click)=\"newGame()\" type=\"button\" class=\"btn btn-primary\">New Game</button>\r\n<div class=\"m-5\" style=\"width: 420px; height: 420px;\">\r\n  <div class=\"table-responsive\">\r\n    <table class=\"table table-bordered\">\r\n      <tr *ngFor=\"let row of board; index as i\">\r\n        <td [bgColor]=\"(i+j)%2 === 0 ? '#dedede' : 'white'\" class=\"p-0 m-0\" *ngFor=\"let column of row; index as j\">\r\n          <app-square [piece]=(column)></app-square>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n</div>\r\n","import {Component, OnInit} from '@angular/core';\nimport {Piece} from './piece';\n\n@Component({\n  selector: 'app-piece',\n  templateUrl: './piece.component.html',\n  styleUrls: ['./piece.component.css']\n})\nexport class PieceComponent implements OnInit {\n\n  piece: Piece;\n  hover: boolean;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.hover = false;\n  }\n\n  mouseEnter() {\n    if(!this.piece?.selected) {\n      this.hover = true;\n    }\n  }\n\n  mouseLeave() {\n    this.hover = false;\n  }\n}\n","<div (mouseenter) =\"mouseEnter() \"  (mouseleave) =\"mouseLeave()\">\n  <div *ngIf=\"piece.type === 'king' && piece.color === 'black'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <g color=\"green\"\n         [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"\n         style=\"fill:none; fill-opacity:1; fill-rule:evenodd; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">\n        <path\n          d=\"M 22.5,11.63 L 22.5,6\"\n          [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"\n          style=\"fill:none; stroke-linejoin:miter;\"\n          id=\"path6570\"/>\n        <path\n          d=\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"\n          [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"\n          style=\"fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;\"/>\n        <path\n          d=\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"\n          [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"/>\n        <path\n          d=\"M 20,8 L 25,8\"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected-fill': piece.selected}\"\n          style=\"fill:none; stroke-linejoin:miter;\"/>\n        <path\n          d=\"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85\"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"/>\n        <path\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"\n          d=\"M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37\"/>\n      </g>\n    </svg>\n  </div>\n  <div *ngIf=\"piece.type === 'king' && piece.color === 'white'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <g\n        style=\"fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">\n        <path\n          d=\"M 22.5,11.63 L 22.5,6\"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"\n          style=\"stroke-linejoin:miter;\"/>\n        <path\n          d=\"M 20,8 L 25,8\"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"\n          style=\"stroke-linejoin:miter;\"/>\n        <path\n          d=\"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"\n          style=\"stroke-linecap:butt; stroke-linejoin:miter;\"/>\n        <path\n          d=\"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z \"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"/>\n        <path\n          d=\"M 11.5,30 C 17,27 27,27 32.5,30\"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"/>\n        <path\n          d=\"M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5\"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"/>\n        <path\n          d=\"M 11.5,37 C 17,34 27,34 32.5,37\"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"/>\n      </g>\n    </svg>\n  </div>\n  <div *ngIf=\"piece.type === 'knight' && piece.color === 'black'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <g\n        style=\"opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">\n        <path\n          d=\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"\n          [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"/>\n        <path\n          d=\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"\n          [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"/>\n        <path\n          d=\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"\n          style=\"fill:#ffffff; stroke:#ffffff;\"/>\n        <path\n          d=\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\"\n          transform=\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"\n          style=\"fill:#ffffff; stroke:#ffffff;\"/>\n        <path\n          d=\"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \"\n          [ngClass]=\"{'piece-normal-no-stroke': !hover, 'piece-move-no-stroke': hover, 'piece-selected-no-stroke': piece.selected}\"/>\n      </g>\n    </svg>\n  </div>\n  <div *ngIf=\"piece.type === 'knight' && piece.color === 'white'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <g\n        style=\"opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">\n        <path\n          d=\"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"/>\n        <path\n          d=\"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"/>\n        <path\n          d=\"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\"\n          [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"/>\n        <path\n          d=\"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\"\n          transform=\"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\"\n          [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"/>\n      </g>\n    </svg>\n  </div>\n  <div *ngIf=\"piece.type === 'pawn' && piece.color === 'black'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <path\n        d=\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"\n        [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"\n        style=\"opacity:1; fill-opacity:1; fill-rule:nonzero; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\"/>\n    </svg>\n  </div>\n  <div *ngIf=\"piece.type === 'pawn' && piece.color === 'white'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <path\n        d=\"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z \"\n        [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"\n        style=\"opacity:1; fill-opacity:1; fill-rule:nonzero; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\"/>\n    </svg>\n  </div>\n  <div *ngIf=\"piece.type === 'queen' && piece.color === 'black'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <g\n        [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"\n        style=\"opacity:1; fill-opacity:1; fill-rule:evenodd; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">\n        <g\n          [ngClass]=\"{'piece-normal-no-stroke': !hover, 'piece-move-no-stroke': hover, 'piece-selected-no-stroke': piece.selected}\">\n          <circle cx=\"6\" cy=\"12\" r=\"2.75\"/>\n          <circle cx=\"14\" cy=\"9\" r=\"2.75\"/>\n          <circle cx=\"22.5\" cy=\"8\" r=\"2.75\"/>\n          <circle cx=\"31\" cy=\"9\" r=\"2.75\"/>\n          <circle cx=\"39\" cy=\"12\" r=\"2.75\"/>\n        </g>\n        <path\n          d=\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"\n          [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 11,38.5 A 35,35 1 0 0 34,38.5\"\n          [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 11,29 A 35,35 1 0 1 34,29\"\n          style=\"fill:none; stroke:#ffffff;\"/>\n        <path\n          d=\"M 12.5,31.5 L 32.5,31.5\"\n          style=\"fill:none; stroke:#ffffff;\"/>\n        <path\n          d=\"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\"\n          style=\"fill:none; stroke:#ffffff;\"/>\n        <path\n          d=\"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\"\n          style=\"fill:none; stroke:#ffffff;\"/>\n      </g>\n    </svg>\n  </div>\n  <div *ngIf=\"piece.type === 'queen' && piece.color === 'white'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <g\n        [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"\n        style=\"opacity:1; fill-opacity:1; fill-rule:evenodd; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">\n        <path\n          d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"\n          transform=\"translate(-1,-1)\"/>\n        <path\n          d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"\n          transform=\"translate(15.5,-5.5)\"/>\n        <path\n          d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"\n          transform=\"translate(32,-1)\"/>\n        <path\n          d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"\n          transform=\"translate(7,-4.5)\"/>\n        <path\n          d=\"M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z\"\n          transform=\"translate(24,-4)\"/>\n        <path\n          d=\"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z \"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z \"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 11.5,30 C 15,29 30,29 33.5,30\"\n          style=\"fill:none;\"/>\n        <path\n          d=\"M 12,33.5 C 18,32.5 27,32.5 33,33.5\"\n          style=\"fill:none;\"/>\n      </g>\n    </svg>\n  </div>\n  <div *ngIf=\"piece.type === 'rook' && piece.color === 'black'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <g\n        [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"\n        style=\"opacity:1; fill-opacity:1; fill-rule:evenodd; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">\n        <path\n          d=\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \"\n          style=\"stroke-linecap:butt;stroke-linejoin:miter;\"/>\n        <path\n          d=\"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 12,35.5 L 33,35.5 L 33,35.5\"\n          style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\"/>\n        <path\n          d=\"M 13,31.5 L 32,31.5\"\n          style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\"/>\n        <path\n          d=\"M 14,29.5 L 31,29.5\"\n          style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\"/>\n        <path\n          d=\"M 14,16.5 L 31,16.5\"\n          style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\"/>\n        <path\n          d=\"M 11,14 L 34,14\"\n          style=\"fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;\"/>\n      </g>\n    </svg>\n  </div>\n  <div *ngIf=\"piece.type === 'rook' && piece.color === 'white'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <g\n        [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"\n        style=\"opacity:1; fill-opacity:1; fill-rule:evenodd; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">\n        <path\n          d=\"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\"\n          style=\"stroke-linecap:butt;\"/>\n        <path\n          d=\"M 34,14 L 31,17 L 14,17 L 11,14\"/>\n        <path\n          d=\"M 31,17 L 31,29.5 L 14,29.5 L 14,17\"\n          style=\"stroke-linecap:butt; stroke-linejoin:miter;\"/>\n        <path\n          d=\"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\"/>\n        <path\n          d=\"M 11,14 L 34,14\"\n          [ngClass]=\"{'piece-normal-no-fill': !hover, 'piece-move-no-fill': hover, 'piece-selected-fill': piece.selected}\"\n          style=\"stroke-linejoin:miter;\"/>\n      </g>\n    </svg>\n  </div>\n  <div *ngIf=\"piece.type === 'bishop' && piece.color === 'black'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <g\n        style=\"opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">\n        <g [ngClass]=\"{'piece-normal-fill': !hover, 'piece-move-fill': hover, 'piece-selected-fill': piece.selected}\"\n          style=\"stroke-linecap:butt;\">\n          <path\n            d=\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\"/>\n          <path\n            d=\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"/>\n          <path\n            d=\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"/>\n        </g>\n        <path\n          d=\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"\n          style=\"fill:none; stroke:#ffffff; stroke-linejoin:miter;\"/>\n      </g>\n    </svg>\n  </div>\n  <div *ngIf=\"piece.type === 'bishop' && piece.color === 'white'\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"45\" height=\"45\">\n      <g\n        [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"\n        style=\"opacity:1; fill-rule:evenodd; fill-opacity:1;stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;\">\n        <g\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"\n          style=\"stroke-linecap:butt;\">\n          <path\n            d=\"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z\"/>\n          <path\n            d=\"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"/>\n          <path\n            d=\"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"/>\n        </g>\n        <path\n          d=\"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\"\n          [ngClass]=\"{'piece-normal': !hover, 'piece-move': hover, 'piece-selected': piece.selected}\"\n          style=\"stroke-linejoin:miter;\"/>\n      </g>\n    </svg>\n  </div>\n</div>\n","export class Piece {\r\n  color: string;\r\n  type: string;\r\n  selected = false;\r\n}\r\n","import {Injectable} from '@angular/core';\nimport {Piece} from './piece/piece';\nimport {Subject} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SelectionService {\n\n  previous: Piece = null;\n  current: Piece = null;\n  subject: Subject<Piece> = new Subject<Piece>();\n\n  constructor() {\n  }\n\n  public select(p: Piece) {\n    if (this.current) {\n      this.current.selected = false;\n    }\n    this.previous = this.current;\n    if (p === this.current) {\n      this.current = null;\n    }\n    else {\n      this.current = p;\n      if (this.current) {\n        this.current.selected = true;\n      }\n    }\n    this.subject.next(this.current);\n  }\n}\n","import {\r\n  Component, ViewChild, ViewContainerRef, ComponentFactoryResolver,\r\n  ComponentRef, ComponentFactory, OnInit, AfterViewInit, Input, OnChanges, SimpleChanges, EventEmitter, Output\r\n} from '@angular/core';\r\nimport {PieceComponent} from '../piece/piece.component';\r\nimport {Piece} from '../piece/piece';\r\nimport {SelectionService} from '../selection.service';\r\n\r\n@Component({\r\n  selector: 'app-square',\r\n  templateUrl: './square.component.html',\r\n  styleUrls: ['./square.component.css']\r\n})\r\nexport class SquareComponent implements OnInit, OnChanges {\r\n\r\n  componentRef: any;\r\n  @Input() piece: Piece;\r\n  @Input() x: number;\r\n  @Input() y: number;\r\n  @Output() selectedPieceChange = new EventEmitter<Piece>();\r\n  @ViewChild('pieceContainer', {read: ViewContainerRef}) entry: ViewContainerRef;\r\n\r\n  constructor(private resolver: ComponentFactoryResolver,\r\n              private selection: SelectionService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    setTimeout(() => {\r\n      if (this.piece.type !== 'empty') {\r\n        this.createComponent();\r\n      }\r\n    });\r\n  }\r\n\r\n  createComponent() {\r\n    this.entry.clear();\r\n    const factory = this.resolver.resolveComponentFactory(PieceComponent);\r\n    this.componentRef = this.entry.createComponent(factory);\r\n    this.componentRef.instance.templateUrl = '../piece/templates/Chess_pdt45.svg';\r\n    this.componentRef.instance.piece = this.piece;\r\n  }\r\n\r\n  hasPiece(): boolean {\r\n    return this.piece.type !== 'empty';\r\n  }\r\n\r\n  selected() {\r\n    if (this.selection.current) {\r\n      if (this.selection.current !== this.piece) {\r\n        if (this.componentRef) {\r\n          this.componentRef.destroy();\r\n        }\r\n        this.piece.type = this.selection.current.type;\r\n        this.piece.color = this.selection.current.color;\r\n        this.selection.current.type = 'empty';\r\n        this.createComponent();\r\n        this.selection.select(null);\r\n        return;\r\n      }\r\n    }\r\n    if (!this.componentRef) {\r\n      return;\r\n    }\r\n    const p = this.componentRef.instance.piece;\r\n    this.selection.select(p);\r\n  }\r\n}\r\n","<div (click)=\"selected()\"\n     [ngClass]=\"{'selectable' : hasPiece() }\"\n     style=\"width:50px;height:50px;\">\n  <template #pieceContainer>\n  </template>\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}